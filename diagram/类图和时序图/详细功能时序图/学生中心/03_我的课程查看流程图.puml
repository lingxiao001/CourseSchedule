@startuml 学生我的课程查看流程图
title 学生我的课程查看流程图

start

:学生访问我的课程页面;
:身份验证;

if (身份验证通过?) then (是)
    :查询学生选课记录;
    :查询教学班信息;
    :查询课程详细信息;
    :组装已选课程信息;
    
    if (有已选课程?) then (是)
        :显示已选课程列表;
        
        while (需要其他操作?) is (是)
            if (查看课程详情?) then (是)
                :点击某个课程;
                :验证学生选课权限;
                
                if (学生已选该课程?) then (是)
                    :获取课程详细信息;
                    :获取教师信息;
                    :获取同班同学信息;
                    :显示课程详情页面;
                else (否)
                    :显示无权限错误;
                endif
                
            elseif (刷新课程列表?) then (是)
                :重新查询选课记录;
                :重新组装课程信息;
                :更新课程列表显示;
                
            elseif (导出课程信息?) then (是)
                :获取已选课程数据;
                :生成PDF/Excel文件;
                :触发文件下载;
            endif
        endwhile (否)
    else (否)
        :显示空状态页面;
        note right: "您还没有选择任何课程"
    endif
else (否)
    :重定向到登录页面;
    stop
endif

stop

@enduml 