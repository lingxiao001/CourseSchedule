@startuml 教师按周查看课表流程图
title 教师按周查看课表流程图

start

:教师访问课表页面;
:身份验证;

if (身份验证通过?) then (是)
    :查询教师的教学班;
    :查询当前周的课表安排;
    :查询上课教室信息;
    :组装课表数据;
    :显示当前周课表;
    
    while (需要其他操作?) is (是)
        if (切换周次?) then (是)
            :选择目标周次;
            :查询指定周课表;
            :更新教室信息;
            :刷新课表显示;
            
        elseif (查看课程详情?) then (是)
            :点击某节课;
            :验证课程权限;
            
            if (课程存在且有权限?) then (是)
                :查询课程详细信息;
                :查询选课学生列表;
                :查询学生出勤情况;
                :组装课程详细信息;
                :显示课程详情对话框;
                
                if (管理学生?) then (是)
                    :显示学生名单;
                    :支持学生信息查看;
                    :支持出勤记录管理;
                endif
            else (否)
                :显示课程不存在错误;
            endif
            
        elseif (导出课表?) then (是)
            :选择导出格式;
            note right: PDF或Excel
            :选择导出范围;
            note right: 当前周或整学期
            :获取教师课表数据;
            :生成文件;
            
            if (生成成功?) then (是)
                :触发文件下载;
            else (否)
                :显示导出失败错误;
            endif
            
        elseif (课表统计?) then (是)
            :统计教学任务;
            :计算课时总量;
            :分析上课时间分布;
            :显示统计报表;
            
        elseif (设置提醒?) then (是)
            :配置上课提醒;
            :设置提醒时间;
            :选择提醒方式;
            note right: 邮件、短信或系统通知
            :保存提醒设置;
        endif
    endwhile (否)
    
    :记录访问日志;
    :更新最后访问时间;
else (否)
    :重定向到登录页面;
    stop
endif

stop

@enduml 